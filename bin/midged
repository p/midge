#!/usr/bin/env python    
# $Id$
# (C) Timothy Corbett-Clark, 2004


import midge.application as application
import midge.config as config
import midge.connection as connection
import midge.locations as locations
import midge.logger as logger
import midge.server as server


if __name__ == "__main__":
    config.read()
    logger.start(config.Logging.debugging)
    app = application.Application(connection.Connection())
    try:
        server.Server(app, locations).start()
    except Exception:
        logger.error("Fatal error - exiting with traceback...")
        lines = logger.get_exception_as_lines()
        for line in lines:
            logger.error(line)

